<div class="sidebar max-h-screen top-0 h-screen bg-gray-900 text-white w-64 fixed inset-y-0 left-0 transform transition duration-200 ease-in-out z-50"
    [ngClass]="{'-translate-x-full': !open, 'md:translate-x-0 md:sticky': open}">

  <header class="h-[64px] py-2 shadow-lg px-4 md:sticky top-0 bg-gray-900 z-40 flex items-center">
    <i class="fa fa-project-diagram text-3xl"></i>
    <div class="ml-3">
      <span class="text-2xl font-extrabold">FARNOUS</span>
      <span class="text-xs block">Project Management</span>
    </div>
  </header>

  <nav class="px-4 pt-4 scroller overflow-y-scroll max-h-[calc(100vh-64px)]">
    <ul class="flex flex-col space-y-2">
      <ng-container *ngFor="let item of menuItems">
        <li *ngIf="!isMenuItem(item)" class="section border-b pt-4 mb-4 text-xs text-gray-400 border-gray-700 pb-1 pl-3">
          {{ item.label }}
        </li>
        <li *ngIf="isMenuItem(item)" class="text-sm text-gray-400">
          <a class="flex items-center w-full py-3 px-2 rounded relative hover:text-white hover:bg-gray-800" (click)="item.children ? toggleSubMenu(item) : null">
            <div class="pr-2">
              <i [class]="item.icon"></i>
            </div>
            <div class="text-base">{{ item.label }}</div>
            <div class="absolute right-1.5 transition-transform duration-300" *ngIf="item.children" [ngClass]="{'rotate-180': item.open}">
              <i class="fa fa-chevron-down"></i>
            </div>
          </a>
          <ul class="pl-6 pr-2 overflow-hidden transition-all transform duration-300" *ngIf="item.children && item.open" [ngStyle]="{'max-height': item.open ? '200px' : '0'}">
            <li class="text-sm text-gray-400" *ngFor="let child of item.children">
              <a class="flex items-center w-full py-2 px-2 rounded relative hover:text-white hover:bg-gray-800">
                <div class="pr-2">
                  <i [class]="child.icon"></i>
                </div>
                <div class="text-base">{{ child.label }}</div>
              </a>
            </li>
          </ul>
        </li>
      </ng-container>
    </ul>
  </nav>
</div>
